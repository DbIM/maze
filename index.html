<!DOCTYPE html>
<html lang="ru">
<head>

    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#87CEEB">
    <meta name="mobile-web-app-capable" content="yes">
    <title>Gold Box RPG</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="apple-touch-icon" href="assets/icon.png">
    <link rel="manifest" href="manifest.json">
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    
</head>
<body>
    <div id="game-container">
        <div id="game-header">
            üè∞ –ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è Gold Box RPG —Å 3D –≤–∏–¥–æ–º üêâ
            <button id="toggle-editor" class="editor-btn" title="–û—Ç–∫—Ä—ã—Ç—å/–∑–∞–∫—Ä—ã—Ç—å —Ä–µ–¥–∞–∫—Ç–æ—Ä —É—Ä–æ–≤–Ω—è">üõ†Ô∏è –†–µ–¥–∞–∫—Ç–æ—Ä</button>
        </div>
        <div id="game-content">
            <div id="main-view">
                <div id="view-container">
                    <div id="view-display">
                        –í—ã —Å—Ç–æ–∏—Ç–µ –≤ –∫–∞–º–µ–Ω–Ω–æ–º –∫–æ—Ä–∏–¥–æ—Ä–µ. –í–æ–∑–¥—É—Ö —Å—ã—Ä–æ–π –∏ —Ö–æ–ª–æ–¥–Ω—ã–π.
                    </div>
                    <div id="graphics-display">
                        <!-- Three.js canvas –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∑–¥–µ—Å—å -->
                    </div>
                </div>
                
                <!-- –ö–Ω–æ–ø–∫–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±—É–¥—É—Ç —Å–æ–∑–¥–∞–Ω—ã —á–µ—Ä–µ–∑ JS -->
                <div id="controls-container"></div>
            </div>
            
            <div id="side-panel">
                <div id="mini-map-container"></div>
                
                <div id="game-info">
                    <div class="info-title">–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è:</div>
                    <div id="player-position">–ü–æ–∑–∏—Ü–∏—è: X=2, Y=2</div>
                    <div id="player-direction">–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ: –°–µ–≤–µ—Ä</div>
                    <div id="game-status">–°—Ç–∞—Ç—É—Å: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ</div>
                </div>
                
                <div id="game-log">
                    <div class="log-title">–ñ—É—Ä–Ω–∞–ª —Å–æ–±—ã—Ç–∏–π:</div>
                    <div id="log-entries">
                        <div class="log-entry">–í—ã –Ω–∞—á–∞–ª–∏ —Å–≤–æ–µ –ø—Ä–∏–∫–ª—é—á–µ–Ω–∏–µ –≤ –ø–æ–¥–∑–µ–º–µ–ª—å–µ.</div>
                        <div class="log-entry">–í—ã —Å–ª—ã—à–∏—Ç–µ —ç—Ö–æ –≤–¥–∞–ª–µ–∫–µ.</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- –ó–∞–≥—Ä—É–∂–∞–µ–º –º–æ–¥—É–ª–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ -->
    <script src="js/level.js"></script>
    <script src="js/game.js"></script>
    <script src="js/minimap.js"></script>
    <script src="js/controls.js"></script>
    <script src="js/threejs-renderer.js"></script>
    <script src="js/firstperson.js"></script>
    <script src="js/LevelEditor.js"></script>


    <script>
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        document.addEventListener('DOMContentLoaded', () => {
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –º–æ–¥—É–ª–∏ –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
            Game.init();
            Controls.init();
            Minimap.init();
            ThreeJSRenderer.init();

            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–¥–∞–∫—Ç–æ—Ä —É—Ä–æ–≤–Ω—è
            if (typeof LevelEditor !== 'undefined') {
                LevelEditor.init();
                console.log('LevelEditor –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω');

                // –î–æ–±–∞–≤–ª—è–µ–º –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–Ω–æ–ø–∫–∏
                const editorBtn = document.getElementById('toggle-editor');
                if (editorBtn) {
                    editorBtn.addEventListener('click', () => {
                        LevelEditor.toggleEditor();
                    });
                    console.log('–û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ —Ä–µ–¥–∞–∫—Ç–æ—Ä–∞ –¥–æ–±–∞–≤–ª–µ–Ω');
                }
            } else {
                console.error('LevelEditor –Ω–µ –Ω–∞–π–¥–µ–Ω!');
            }
        });
    </script>
</body>
</html>